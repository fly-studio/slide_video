# 功能需求详细说明

## 1. 入场/出场特效（各0.5秒，需缓动）

需要实现的特效类型：
- **淡入淡出** (Fade In/Out)
- **旋转入出场** (Rotate In/Out)
- **4方向移入移出** (Slide: Top/Bottom/Left/Right)
- **放大移出** (Zoom Out)
- **百叶窗** (Blinds)
- **推送** (Push)

### 缓动函数要求
- 使用CSS3缓动效果（ease, ease-in, ease-out, ease-in-out等）
- **重要**：需与前端保持一致（前端将实现相同效果）
- 缓动曲线应参考CSS3标准：
  - ease: cubic-bezier(0.25, 0.1, 0.25, 1.0)
  - ease-in: cubic-bezier(0.42, 0, 1.0, 1.0)
  - ease-out: cubic-bezier(0, 0, 0.58, 1.0)
  - ease-in-out: cubic-bezier(0.42, 0, 0.58, 1.0)
  - linear: cubic-bezier(0, 0, 1.0, 1.0)

## 2. Hold中间效果（3.5秒）

### Ken Burns效果
- **定义**: 静态图片的缓慢平移和缩放，产生动态感
- **8个方向平移**:
  - 上 (Top)
  - 下 (Bottom)
  - 左 (Left)
  - 右 (Right)
  - 左上 (Top-Left)
  - 右上 (Top-Right)
  - 左下 (Bottom-Left)
  - 右下 (Bottom-Right)
- **实现要点**: 缓慢的镜头推进或拉远+平移组合

## 3. 分辨率转换

### 输入规格
- **尺寸**: 1152x2048 像素
- **宽高比**: 9:16 (竖屏)
- **格式**: JPEG

### 输出规格
- **尺寸**: 720x1280 像素（可配置）
- **宽高比**: 9:16 保持一致
- **缩放方式**: 需保持图片质量，可能需要裁剪或缩放

## 4. 视频生成流程

```
图片读取 → OpenCV处理 → 生成帧 → ffmpeg管道 → H.264视频输出
```

### 关键步骤
1. 按顺序读取0.jpg到20.jpg（21张图片）
2. 对每张图片应用：入场特效(0.5s) + Ken Burns(3.5s) + 出场特效(0.5s)
3. 根据FPS计算每个阶段需要生成的帧数
4. 逐帧应用特效算法生成图像
5. 写入ffmpeg进程管道
6. 输出最终视频文件
